@{
    ViewBag.Title = "Server";
}




<h2>Chat</h2>
<div class="container">
    <input type="text" id="message" />
    <input type="button" id="sendmessage" value="Send" />
    <input type="hidden" id="displayname" />
    <ul id="discussion"></ul>
</div>

<div class="panel panel-default">
    <!-- Default panel contents -->
    <div class="panel-heading">Panel heading</div>

    <!-- Table -->

    <table class="table table-striped table-hover table-bordered dataTable no-footer" role="grid">
        <thead class="fonteTabelaMonitoramentoCargas">
            <tr role="row">
                <th tabindex="0" rowspan="1" colspan="1" style="width: 10%;">
                    Razão Social / Adquirente
                </th>
                <th tabindex="1" rowspan="1" colspan="1">
                    01
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    02
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    03
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    04
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    05
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    06
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    07
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    08
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    09
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    10
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    11
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    12
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    13
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    14
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    15
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    16
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    17
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    18
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    19
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    20
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    21
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    22
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    23
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    24
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    25
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    26
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    27
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    28
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    29
                </th>
                <th tabindex="1" rowspan="1" colspan="1" style="width: 3%;">
                    30
                </th>
            </tr>
        </thead>
        <tbody class="fonteTabelaMonitoramentoCargas">
            <tr role="row" class="odd conteudoTabelas">
                <!-- Razão Social / Adquirente -- ng-repeat="parametro in parametros"   --- ng-bind="exibeBanco(parametro.banco)" -->

                <td style="text-align:left">
                    Petrox Mania - Cielo
                </td>
                <!--01-->
                <td>
                    <i class="fa fa-key" style="color: #daa520"></i>
                </td>
                <!--02-->
                <td>
                    <i class="fa fa-check-square" style="color: #1f897f"></i>
                </td>
                <!--03-->
                <td>
                    <i class="fa fa-times-circle" style="color: #7e1416"></i>
                </td>
                <!--04-->
                <td>
                    <i class="fa fa-key" style="color: #daa520"></i>
                </td>
                <!--05-->
                <td>
                    <i class="fa fa-times-circle" style="color: #7e1416"></i>
                </td>
                <!--06-->
                <td>
                    <i class="fa fa-check-square" style="color: #1f897f"></i>
                </td>
                <!--07-->
                <td>
                    <i class="fa fa-times-circle" style="color: #7e1416"></i>
                </td>
                <!--08-->
                <td>
                    <i class="fa fa-check-square" style="color: #1f897f"></i>
                </td>
                <!--09-->
                <td>
                    <i class="fa fa-check-square" style="color: #1f897f"></i>
                </td>
                <!--10-->
                <td>
                    <i class="fa fa-key" style="color: #daa520"></i>
                </td>
                <!--11-->
                <td>
                    <i class="fa fa-check-square" style="color: #1f897f"></i>
                </td>
                <!--12-->
                <td>
                    <i class="fa fa-times-circle" style="color: #7e1416"></i>
                </td>
                <!--13-->
                <td>
                    <i class="fa fa-check-square" style="color: #1f897f"></i>
                </td>
                <!--14-->
                <td>
                    <i class="fa fa-key" style="color: #daa520"></i>
                </td>
                <!--15-->
                <td>
                    <i class="fa fa-times-circle" style="color: #7e1416"></i>
                </td>
                <!--16-->
                <td>
                    <i class="fa fa-times-circle" style="color: #7e1416"></i>
                </td>
                <!--17-->
                <td>
                    <i class="fa fa-key" style="color: #daa520"></i>
                </td>
                <!--18-->
                <td>
                    <i class="fa fa-key" style="color: #daa520"></i>
                </td>
                <!--19-->
                <td>
                    <i class="fa fa-times-circle" style="color: #7e1416"></i>
                </td>
                <!--20-->
                <td>
                    <i class="fa fa-key" style="color: #daa520"></i>
                </td>
                <!--21-->
                <td>
                    <i class="fa fa-times-circle" style="color: #7e1416"></i>
                </td>
                <!--22-->
                <td>
                    <i class="fa fa-check-square" style="color: #1f897f"></i>
                </td>
                <!--23-->
                <td>
                    <i class="fa fa-times-circle" style="color: #7e1416"></i>
                </td>
                <!--24-->
                <td>
                    <i class="fa fa-check-square" style="color: #1f897f"></i>
                </td>
                <!--25-->
                <td>
                    <i class="fa fa-times-circle" style="color: #7e1416"></i>
                </td>
                <!--26-->
                <td>
                    <i class="fa fa-check-square" style="color: #1f897f"></i>
                </td>
                <!--27-->
                <td>
                    <i class="fa fa-times-circle" style="color: #7e1416"></i>
                </td>
                <!--28-->
                <td>
                    <i class="fa fa-check-square" style="color: #1f897f"></i>
                </td>
                <!--29-->
                <td>
                    <i class="fa fa-key" style="color: #daa520"></i>
                </td>
                <!--30-->
                <td>
                    <i class="fa fa-key" style="color: #daa520"></i>
                </td>
            </tr>
        </tbody>
    </table>
</div>

@section scripts {
    <!--Script references. -->
    <!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
    <!--Reference the SignalR library. -->
    <script src="~/Scripts/jquery.signalR-2.2.0.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>
    <!--SignalR script to update the chat page and send messages.-->
    <script>
        $(function () {
            // Reference the auto-generated proxy for the hub.
            var chat = $.connection.ServerAtosCapital;
            // Create a function that the hub can call back to display messages.
            chat.client.addNewMessageToPage = function (name, message) {
                // Add the message to the page.
                $('#discussion').append('<li><strong>' + htmlEncode(name)
                    + '</strong>: ' + htmlEncode(message) + '</li>');
            };

            chat.client.notifyCarga = function (mudancas)
            {
                for (var i = 0; i < mudancas.length; i++) {
                    $('#discussion').append('<li><strong>' + htmlEncode(mudancas[i].id) + '</strong></li>');
                }
               

            }

            // Get the user name and store it to prepend to messages.
            $('#displayname').val(prompt('Enter your name:', ''));
            // Set initial focus to message input box.
            $('#message').focus();
            // Start the connection.
            $.connection.hub.start().done(function () {
                $('#sendmessage').click(function () {
                    // Call the Send method on the hub.
                    chat.server.send($('#displayname').val(), $('#message').val());
                    // Clear text box and reset focus for next comment.
                    $('#message').val('').focus();
                });
            });
        });
        // This optional function html-encodes messages for display in the page.
        function htmlEncode(value) {
            var encodedValue = $('<div />').text(value).html();
            return encodedValue;
        }
    </script>
}